.include "m328pdef.inc"
.CSEG
.ORG 0x0000
    RJMP RESET           ;

RESET:
    LDI R16, 0xFF        ;
    OUT DDRB, R16        ;
    LDI R16, 0x00        ;
    OUT PORTB, R16       ;

    LDI R17, 0x80        ;

LOOP:
    OR R16, R17          ;
    OUT PORTB, R16       ;
    CALL DELAY           ;
    LSR R17              ;
    CPI R17, 0x00        ;
    BRNE LOOP            ;

    RJMP RESET           ;

; Rutina de retardo
DELAY:
    LDI R18, 0xFF        ;
DELAY_LOOP1:
    LDI R19, 0xFF        ;
DELAY_LOOP2:
    NOP                  ;
    DEC R19              ;
    BRNE DELAY_LOOP2     ;
    DEC R18              ;
    BRNE DELAY_LOOP1     ;
    RET                  ;

